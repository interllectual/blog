---
title: "Rounded Rectangles Resurrected, and the Virtues of &lt;hr&gt;"
categories: work
tags:
  -RecommendedCSS
summary: 	<p>Rounded corners are part Holy Grail and part yesterday&#8217;s news. Here I explain the choices that led me to the system I use for this site, and how &#60; hr &#62; became the unwitting hero.</p>
---
<p>You (meaning the five of you who are repeat visitors) may have noticed the recent redesign, which is about number 12 for this blog. I am bucking the trends again, going with a more complicated layout while most are moving to something more simple.  <a href="http://interllectual.com/musings/142/im-sick-of-all-the-fing-boxes">I just couldn&#8217;t stand all the f&#8217;ing boxes</a>.  </p><p>I thought it was about time to marry the square edges with the curves&#8212; kind of a nice metaphor for me, don&#8217;t you think?  I really wanted some asymmetry, because I felt my designs were tending more and more toward the blocky, minimalist thing.  And while that&#8217;s a really good solution for something like a web ap, it&#8217;s a terrible solution for a site whose sole purpose is to represent <em>me</em>.  </p><p>I have the good fortune to not be seeking employment or clients, and to not be selling anything, so I can make this site as personal as I want without having to worry about branding, watching my language, screwing up my feeds, or providing an inconsistent experience.  This site is about me finding my voice, through design, writing, humor, photography, and <a href="http://www.lexapro.com">chemistry</a>. I wanted a layout that represents that complexity, while still focusing on the color schemes generated by the <a href="http://interllectual.com/animal">animals</a>, which is a current fascination of mine.</p><p>So I turned to an oldie but goodie.</p><h2>The Rounded Rectangle Part</h2><p>Rounded corners are part Holy Grail and part yesterday&#8217;s news. As standards-based web designers, we&#8217;re pretty much stuck with boxes, since the <a href="http://www.hicksdesign.co.uk/3dboxmodel/" title="3D illustration of CSS box model | Jon Hicks">whole layout engine</a> is based on them. So talented designers, <span class="caps">CSS</span> gurus, and programmers have been exploring how to make the boxes more interesting for a couple of years at least.  Step one is rounding those corners, which someday could lead us to (gasp!) circles.</p><p>There are a wealth of techniques out there for making rounded corners, ranging from the <a href="http://www.albin.net/CSS/roundedCorners/" title="Bullet-Proof Rounded Corners | Albin.net">markup-heavy but bulletproof</a> to the <a href="http://virtuelvis.com/gallery/css/rounded/" title="CSS3 generated content | Arve Bersvendsen">elegantly simple but widely unsupported</a>. There are even <a href="http://www.neuroticweb.com/recursos/css-rounded-box/index.php?idioma=en" title="CSS Rounded Box Generator | neuroticweb.com">rounded corner generators</a>.  For this site, I wanted to go with a minimal mark-up solution.  I felt like I was already using my fair share of extra <code>&#60;div&#62;s</code> and <code>&#60;span&#62;s</code> to solve other layout problems, namely creating the framework that lets me easily change background colors of the columns<sup class="footnote"><a href="#fn143649152650c23c2e7aa25">1</a></sup> and ordering the source to allow the content to come first in non-textual browsers<sup class="footnote"><a href="#fn131212030650c23c2e7aaa3">2</a></sup>.  I was willing to use a CSS3 solution, since I am targeting users with standards-compliant browsers and this is an experimental site.</p><p>Unfortunately, <a href="http://virtuelvis.com/gallery/css/rounded/" title="CSS3 generated content | Arve Bersvendsen">the most elegant solution</a> I could find would not work for my purposes, because it&#8217;s set up to achieve the exact <em>opposite</em> of what I needed to do.  The technique uses CSS3 generated content and pseudoclass properties to add the images that round off the corners to the document.  By creating an image that is partially transparent (which allows the background color of the content block to show through) and partially opaque (to blend into the background), you can seamlessly round off the corners of a colored content block (see Figure 1).  However, on this site, it is the <em>background</em> color that is the unknown. The color of the content block is always white.  And, unfortunately, reversing the transparent areas of the corner images causes the technique to fail.  Rats.</p><p><txp:image id="4" /></p><p>So, I decided to try to make due with using <span class="caps">HTML</span> elements that already occurred naturally in the mark-up, adding extra elements only when necessary.  Since I actually never have boxes with four rounded corners&#8212; at least one edge of every visual box runs into a margin&#8212; I thought it was likely that I would have close to enough elements to work with.</p><p>It turns out I was right.  I ended up with a system where I had to add needless <code>&#60;span&#62;s</code> only in one place to achieve the look I was going for: between comments. The rest of the layout had enough hooks, between the layout <code>&#60;div&#62;s</code> and,  text mark-up, and my new little hero: the <code>&#60;hr&#62;</code>.</p><h2>The <code>&#60;hr&#62;</code> Part</h2><p>Now, I realize that the semantic worth of <code>&#60;hr&#62;</code> elements is in question.  I tend to think they short-changed, though, for two reasons: they are misnamed, and they are hard to style.  We&#8217;ll get to the second point in a bit.</p><p>I wish <code>&#60;hr&#62;s</code> were called &#8220;section dividers&#8221; instead of &#8220;horizontal rules&#8221;.  This is how I use them, and I think they are very powerful when used in this way, especially in non-graphical browsers or when styles are turned off.  It is much easier to comprehend an unstyled document when there is something to break up the flow and signify where major sections are starting and ending. This section divider happens to look like a long, horizontal line when styled by the base browser stylesheet, but that doesn&#8217;t (or rather <em>shouldn&#8217;t</em>) mean that it has to. What&#8217;s more, a &#8220;section divider&#8221; may actually belong in the mark-up of a document, rather that the stylesheet&#8212;  a demarcation of where sections start and end adds semantic meaning to the document.  I&#8217;d like to hear from the accessibility gurus out there as to whether <code>&#60;hr&#62;s</code> affect the accessibility of the document, either in positive or negative ways.  My gut tells me that logically placed <code>&#60;hr&#62;s</code> (i.e. section dividers) would aid accessibility, but I defer to the experts on this.</p><p>In any case, I had decided at the beginning of this redesign to place <code>&#60;hr&#62;s</code> logically throughout my documents to aid comprehension in non-graphical browsers, and hide them with <span class="caps">CSS</span> from the main design.  It turned out that if I didn&#8217;t hide the <code>&#60;hr&#62;s</code> I was able to use them as hooks on which to hang my rounded corners.  This worked out great in most browsers, but caused me some problems in one particular class of browsers&#8230; I&#8217;ll give you one guess as to which.</p><p>Yes, styling <code>&#60;hr&#62;s</code> in Internet Explorer turned out to be a challenge.  <a href="http://www.sovavsiti.cz/css/hr.html" title="Styling hr | sovavsiti.cz">Previous</a> <a href="http://www.saila.com/usage/tips/defn.shtml?hr" title="How do I style an hr? | salia.com">articles</a> had warned me that using background images on <code>&#60;hr&#62;s</code> was problematic. Even after removing the borders, IE insists on leaving a light grey &#8220;pseudoborder&#8221; around the <code>&#60;hr&#62;</code> (see Figure 2), as well as adding some non-removable white space below it.  After a little tweaking, I was able to able to get things working in IE 5 Mac.  The trick here was to create height using the <code>padding</code> property rather that the <code>height</code> property, and to add <code>overflow: hidden</code>.  Then all that was needed was some negative margins to pop the <code>&#60;hr&#62;s</code> into place.</p><p><txp:image id="5" /></p><p>Unfortunately, this trick did not work for IE PC.  No matter what I did, there was still a grey &#8220;pseudoborder&#8221; along the bottom of the <code>&#60;hr&#62;</code>.  I thought I was sunk, until I reflected for a moment.  I was willing to use a CSS3 solution to the rounded corner problem, which would have left IE PC with square corners, since its CSS3 support is not exactly stellar.  So if I just hid the ugly <code>&#60;hr&#62;s</code> from IE PC, wouldn&#8217;t that have much the same effect? Why yes, it would.  So now, IE PC gets a few less rounded corners than other browsers, but the design concept still holds, more or less.  Anyplace where I used a different element for my style hook still gets rounded corners in IE PC, and the rest of the corners are square.</p><p>This results in an interesting mix of round and square corners, a la <a href="http://www.hicksdesign.co.uk">hicksdesign</a> <sup><a href="#fn3">3</a></sup>. </p><h2>The Ending Part</h2><p>The moral of this story is to be clever in your use of naturally occurring mark-up elements before you add anything extra to achieve a graphic effect.  If you carefully examine your mark-up, goals, and the compromises you are willing to make (or forego) for older browsers, you may find that you already have what you need.</p><div class="note"><p id="fn143649152650c23c2e7aa25" class="footnote"><sup>1</sup> This is done with a <a href="http://webhost.bridgew.edu/etribou/layouts/skidoo/">clever layout from Ruthsarian Labs</a> that uses borders of a containing <code>&#60;div&#62;</code> to create a background colors for nested <code>&#60;div&#62;s</code> that are pushed over top of them with negative margins.  Column colors can easily be changed by changing the border colors of the parent <code>&#60;div&#62;</code>.</p><p id="fn131212030650c23c2e7aaa3" class="footnote"><sup>2</sup> Ruthsarian Labs also offers this option&#8212; see the <a href="http://webhost.bridgew.edu/etribou/layouts/skidoo_too/gargoyles/index.html">Gargoyles layout</a>.</p><p id="fn3" class="footnote"><sup>3</sup> Actually, I can see a lot of influences from Jon Hicks in the design as a whole, so hats off to you Jon!  I really like your work!</div></p>
